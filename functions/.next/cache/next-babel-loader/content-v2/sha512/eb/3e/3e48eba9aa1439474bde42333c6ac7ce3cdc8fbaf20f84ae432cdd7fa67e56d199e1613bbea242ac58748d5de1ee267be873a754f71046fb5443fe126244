{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { Modal, InputGroup, Dropdown, FormControl, Button, NavDropdown, Form, Table, Pagination } from \"react-bootstrap\";\nimport { fetchPartsWithMachineDataPage, fetchClients, fetchModels, formatDate } from \"../../../utils/fetchAssociations\";\nimport ClientTable from \"../../../utils/ClientTable\";\nimport ModelTable from \"../../../utils/ModelTable\";\nimport styles from \"./ParentModal.module.css\";\nvar CLIENT_WAREHOUSE = \"igor-house\";\nvar CLIENT_UNASSIGNED = \"unassigned\";\nvar PAGE_SIZE = 20;\n\nvar ParentModal = function ParentModal(_ref) {\n  var show = _ref.show,\n      handleClose = _ref.handleClose,\n      setSelectedParent = _ref.setSelectedParent;\n\n  var _useState = useState([]),\n      info = _useState[0],\n      setInfo = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(1),\n      page = _useState3[0],\n      setPage = _useState3[1];\n\n  var _useState4 = useState([]),\n      pageCursors = _useState4[0],\n      setPageCursors = _useState4[1];\n\n  var _useState5 = useState(false),\n      hasNextPage = _useState5[0],\n      setHasNextPage = _useState5[1];\n\n  var _useState6 = useState(0),\n      queryEpoch = _useState6[0],\n      setQueryEpoch = _useState6[1];\n\n  var _useState7 = useState(null),\n      loadError = _useState7[0],\n      setLoadError = _useState7[1];\n\n  var _useState8 = useState(\"\"),\n      search = _useState8[0],\n      setSearch = _useState8[1];\n\n  var _useState9 = useState(\"Name\"),\n      select = _useState9[0],\n      setSelect = _useState9[1];\n\n  var _useState10 = useState(false),\n      showList = _useState10[0],\n      setShowList = _useState10[1];\n\n  var _useState11 = useState(\"text\"),\n      showListSearch = _useState11[0],\n      setShowListSearch = _useState11[1];\n\n  var _useState12 = useState(null),\n      selectedOEM = _useState12[0],\n      setSelectedOEM = _useState12[1];\n\n  var _useState13 = useState(null),\n      selectedModality = _useState13[0],\n      setSelectedModality = _useState13[1];\n\n  var _useState14 = useState(null),\n      selectedClient = _useState14[0],\n      setSelectedClient = _useState14[1];\n\n  var _useState15 = useState([]),\n      clients = _useState15[0],\n      setClients = _useState15[1];\n\n  var _useState16 = useState(false),\n      showClientModal = _useState16[0],\n      setShowClientModal = _useState16[1];\n\n  var _useState17 = useState(\"Select Option\"),\n      clientButtonText = _useState17[0],\n      setClientButtonText = _useState17[1];\n\n  var _useState18 = useState(null),\n      selectedModel = _useState18[0],\n      setSelectedModel = _useState18[1];\n\n  var _useState19 = useState([]),\n      models = _useState19[0],\n      setModels = _useState19[1];\n\n  var _useState20 = useState(false),\n      showModelModal = _useState20[0],\n      setShowModelModal = _useState20[1];\n\n  var _useState21 = useState(\"Select Option\"),\n      modelButtonText = _useState21[0],\n      setModelButtonText = _useState21[1];\n\n  var _useState22 = useState(\"\"),\n      clientSearchTerm = _useState22[0],\n      setClientSearchTerm = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      modelSearchTerm = _useState23[0],\n      setModelSearchTerm = _useState23[1];\n\n  var getMachineField = function getMachineField(item, key) {\n    var _ref2, _ref3, _ref4, _item$machineData$key, _item$machineData, _item$machineData2, _key$toLowerCase, _item$currentMachineD, _item$currentMachineD2, _key$toLowerCase2;\n\n    if (!item) return null;\n    return (_ref2 = (_ref3 = (_ref4 = (_item$machineData$key = item === null || item === void 0 ? void 0 : (_item$machineData = item.machineData) === null || _item$machineData === void 0 ? void 0 : _item$machineData[key]) !== null && _item$machineData$key !== void 0 ? _item$machineData$key : item === null || item === void 0 ? void 0 : (_item$machineData2 = item.machineData) === null || _item$machineData2 === void 0 ? void 0 : _item$machineData2[key === null || key === void 0 ? void 0 : (_key$toLowerCase = key.toLowerCase) === null || _key$toLowerCase === void 0 ? void 0 : _key$toLowerCase.call(key)]) !== null && _ref4 !== void 0 ? _ref4 : item === null || item === void 0 ? void 0 : (_item$currentMachineD = item.currentMachineData) === null || _item$currentMachineD === void 0 ? void 0 : _item$currentMachineD[key]) !== null && _ref3 !== void 0 ? _ref3 : item === null || item === void 0 ? void 0 : (_item$currentMachineD2 = item.currentMachineData) === null || _item$currentMachineD2 === void 0 ? void 0 : _item$currentMachineD2[key === null || key === void 0 ? void 0 : (_key$toLowerCase2 = key.toLowerCase) === null || _key$toLowerCase2 === void 0 ? void 0 : _key$toLowerCase2.call(key)]) !== null && _ref2 !== void 0 ? _ref2 : null;\n  };\n\n  var resetPagination = function resetPagination() {\n    setPage(1);\n    setPageCursors([]);\n    setHasNextPage(false);\n  };\n\n  var searchChangeHandler = function searchChangeHandler(event) {\n    return setSearch(event.target.value);\n  };\n\n  var matchesFilters = useCallback(function (item) {\n    if (!item) return false;\n\n    if (selectedOEM) {\n      var OEM = getMachineField(item, \"OEM\");\n      if (OEM !== selectedOEM) return false;\n    }\n\n    if (selectedModality) {\n      var Modality = getMachineField(item, \"Modality\");\n      if (Modality !== selectedModality) return false;\n    }\n\n    if (selectedModel) {\n      var Model = getMachineField(item, \"Model\");\n      if (Model !== selectedModel) return false;\n    }\n\n    if (selectedClient) {\n      var clientRef = getMachineField(item, \"client\");\n      var clientId = typeof clientRef === \"string\" ? clientRef : (clientRef === null || clientRef === void 0 ? void 0 : clientRef.id) || null;\n      if (clientId !== selectedClient) return false;\n    }\n\n    return true;\n  }, [selectedOEM, selectedModality, selectedModel, selectedClient]);\n  var fetchData = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var requestedPage,\n        startAfterDoc,\n        searchLower,\n        _yield$fetchPartsWith,\n        data,\n        lastDoc,\n        nextPage,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            requestedPage = _args.length > 0 && _args[0] !== undefined ? _args[0] : 1;\n\n            if (show) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            startAfterDoc = requestedPage > 1 ? pageCursors[requestedPage - 2] : null;\n\n            if (!(requestedPage > 1 && !startAfterDoc)) {\n              _context.next = 7;\n              break;\n            }\n\n            setPage(1);\n            return _context.abrupt(\"return\");\n\n          case 7:\n            setIsLoading(true);\n            setLoadError(null);\n            searchLower = (search || \"\").toLowerCase().trim();\n            _context.prev = 10;\n            _context.next = 13;\n            return fetchPartsWithMachineDataPage({\n              pageSize: PAGE_SIZE,\n              startAfterDoc: startAfterDoc,\n              visibleOnly: true,\n              filterFn: selectedOEM || selectedModality || selectedModel || selectedClient ? matchesFilters : null,\n              search: searchLower ? {\n                type: select,\n                raw: search,\n                lower: searchLower\n              } : null,\n              needsMachineData: Boolean(selectedOEM) || Boolean(selectedModality) || Boolean(selectedModel) || Boolean(selectedClient)\n            });\n\n          case 13:\n            _yield$fetchPartsWith = _context.sent;\n            data = _yield$fetchPartsWith.parts;\n            lastDoc = _yield$fetchPartsWith.lastDoc;\n            nextPage = _yield$fetchPartsWith.hasNextPage;\n            setInfo(data);\n            setHasNextPage(nextPage);\n            setPageCursors(function (prev) {\n              var next = requestedPage === 1 ? [] : _toConsumableArray(prev);\n\n              if (lastDoc) {\n                next[requestedPage - 1] = lastDoc;\n              }\n\n              return next;\n            });\n            _context.next = 27;\n            break;\n\n          case 22:\n            _context.prev = 22;\n            _context.t0 = _context[\"catch\"](10);\n            console.error(\"Parent modal load failed:\", _context.t0);\n            setLoadError((_context.t0 === null || _context.t0 === void 0 ? void 0 : _context.t0.message) || \"Failed to load items.\");\n            setInfo([]);\n\n          case 27:\n            _context.prev = 27;\n            setIsLoading(false);\n            return _context.finish(27);\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[10, 22, 27, 30]]);\n  })), [show, pageCursors, search, select, selectedOEM, selectedModality, selectedModel, selectedClient, matchesFilters]);\n  useEffect(function () {\n    if (!show) return;\n    resetPagination();\n    setQueryEpoch(function (v) {\n      return v + 1;\n    });\n  }, [show, selectedOEM, selectedModality, selectedModel, selectedClient, search, select]);\n  useEffect(function () {\n    if (!show) return;\n    fetchData(page);\n  }, [show, page, queryEpoch, fetchData]);\n\n  var rowSelect = function rowSelect(item) {\n    setSelectedParent({\n      id: item.id,\n      name: item.name,\n      pn: item.pn\n    });\n    handleClose();\n  };\n\n  var _useState24 = useState(\"Select Option\"),\n      dropdown1Text = _useState24[0],\n      setDropdown1Text = _useState24[1];\n\n  var _useState25 = useState(\"Select Option\"),\n      dropdown2Text = _useState25[0],\n      setDropdown2Text = _useState25[1];\n\n  var handleSelect1 = function handleSelect1(eventKey, event) {\n    if (eventKey === \"unassigned\") {\n      setDropdown1Text(\"Select Option\");\n      setSelectedOEM(null);\n    } else {\n      setDropdown1Text(event.target.textContent);\n      setSelectedOEM(event.target.textContent);\n    }\n  };\n\n  var handleSelect2 = function handleSelect2(eventKey, event) {\n    if (eventKey === \"unassigned\") {\n      setDropdown2Text(\"Select Option\");\n      setSelectedModality(null);\n    } else {\n      setDropdown2Text(event.target.textContent);\n      setSelectedModality(event.target.textContent);\n    }\n  };\n\n  var handleClientClick = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var clientsData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetchClients(selectedOEM, selectedModality);\n\n            case 2:\n              clientsData = _context2.sent;\n              setClients(clientsData);\n              setClientSearchTerm(\"\");\n              setShowClientModal(true);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleClientClick() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var handleClientSelect = function handleClientSelect(clientId) {\n    if (!clientId) {\n      setClientButtonText(\"Select Option\");\n      setSelectedClient(null);\n      setShowClientModal(false);\n      return;\n    }\n\n    var client = clients.find(function (c) {\n      return c.id === clientId;\n    });\n    setClientButtonText((client === null || client === void 0 ? void 0 : client.name) || \"Select Option\");\n    setSelectedClient(clientId);\n    setShowClientModal(false);\n  };\n\n  var handleClientInfo = function handleClientInfo(clientId, clientName) {\n    console.log(\"Client ID: \".concat(clientId, \", Client Name: \").concat(clientName));\n  };\n\n  var handleClearClientSelection = function handleClearClientSelection() {\n    setClientButtonText(\"Select Option\");\n    setSelectedClient(null);\n    setShowClientModal(false);\n  };\n\n  var handleModelClick = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var modelsData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return fetchModels(selectedOEM, selectedModality, selectedClient);\n\n            case 2:\n              modelsData = _context3.sent;\n              setModels(modelsData);\n              setModelSearchTerm(\"\");\n              setShowModelModal(true);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleModelClick() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var handleModelSelect = function handleModelSelect(modelName) {\n    setModelButtonText(modelName || \"Select Option\");\n    setSelectedModel(modelName || null);\n    setShowModelModal(false);\n  };\n\n  var handleClearModelSelection = function handleClearModelSelection() {\n    setModelButtonText(\"Select Option\");\n    setSelectedModel(null);\n    setShowModelModal(false);\n  };\n\n  var handleWarehouseClick = function handleWarehouseClick() {\n    setClientButtonText(CLIENT_WAREHOUSE);\n    setSelectedClient(CLIENT_WAREHOUSE);\n  };\n\n  var handleUnassignedClick = function handleUnassignedClick() {\n    setClientButtonText(CLIENT_UNASSIGNED);\n    setSelectedClient(CLIENT_UNASSIGNED);\n  };\n\n  var totalKnownPages = Math.max(1, pageCursors.filter(Boolean).length + (hasNextPage ? 1 : 0));\n\n  var pageButtons = function () {\n    var buttons = [];\n    var maxVisible = 6;\n\n    var pushPage = function pushPage(p) {\n      return buttons.push(__jsx(Pagination.Item, {\n        key: \"page-\".concat(p),\n        active: p === page,\n        onClick: function onClick() {\n          return setPage(p);\n        }\n      }, p));\n    };\n\n    var pushEllipsis = function pushEllipsis(key) {\n      return buttons.push(__jsx(Pagination.Ellipsis, {\n        key: key,\n        disabled: true\n      }));\n    };\n\n    if (totalKnownPages <= maxVisible) {\n      for (var i = 1; i <= totalKnownPages; i += 1) {\n        pushPage(i);\n      }\n\n      return buttons;\n    }\n\n    var start = Math.max(2, page - 1);\n    var end = Math.min(totalKnownPages - 1, page + 1);\n    var desiredWindow = maxVisible - 2;\n    var currentWindow = end - start + 1;\n    var remaining = desiredWindow - currentWindow;\n\n    while (remaining > 0) {\n      if (start > 2) {\n        start -= 1;\n        remaining -= 1;\n      }\n\n      if (remaining > 0 && end < totalKnownPages - 1) {\n        end += 1;\n        remaining -= 1;\n      }\n\n      if (start === 2 && end === totalKnownPages - 1) break;\n    }\n\n    pushPage(1);\n    if (start > 2) pushEllipsis(\"start-ellipsis\");\n\n    for (var _i = start; _i <= end; _i += 1) {\n      pushPage(_i);\n    }\n\n    if (end < totalKnownPages - 1) pushEllipsis(\"end-ellipsis\");\n    pushPage(totalKnownPages);\n    if (hasNextPage) pushEllipsis(\"more-ellipsis\");\n    return buttons;\n  }();\n\n  return __jsx(Modal, {\n    show: show,\n    onHide: handleClose,\n    size: \"xl\",\n    centered: true,\n    dialogClassName: styles.modalDialog,\n    contentClassName: styles.modalContent\n  }, __jsx(Modal.Header, {\n    closeButton: true,\n    className: styles.modalHeader\n  }, __jsx(\"div\", null, __jsx(\"div\", {\n    className: styles.modalTitle\n  }, \"Select Parent\"), __jsx(\"div\", {\n    className: styles.modalSubtitle\n  }, \"Search and choose a parent item for this part.\"))), __jsx(Modal.Body, {\n    className: styles.modalBody\n  }, __jsx(\"div\", {\n    className: styles.modalGrid\n  }, __jsx(\"aside\", {\n    className: styles.filtersPanel\n  }, __jsx(\"div\", {\n    className: styles.panelTitle\n  }, \"Filters\"), __jsx(\"div\", {\n    className: styles.panelHint\n  }, \"Narrow results with machine and client filters.\"), __jsx(InputGroup, {\n    className: styles.inputGroup\n  }, __jsx(InputGroup.Text, null, \"OEM\"), __jsx(Dropdown, {\n    onSelect: handleSelect1,\n    className: \"w-100\"\n  }, __jsx(Dropdown.Toggle, {\n    variant: \"outline-secondary\",\n    id: \"dropdown-button-1\",\n    className: \"w-100\"\n  }, dropdown1Text), __jsx(Dropdown.Menu, {\n    className: \"w-100\"\n  }, __jsx(Dropdown.Item, {\n    eventKey: \"unassigned\"\n  }, \"Select Option\"), __jsx(Dropdown.Item, {\n    eventKey: \"GE\"\n  }, \"GE\"), __jsx(Dropdown.Item, {\n    eventKey: \"Toshiba\"\n  }, \"Toshiba\"), __jsx(Dropdown.Item, {\n    eventKey: \"Siemens\"\n  }, \"Siemens\"), __jsx(Dropdown.Item, {\n    eventKey: \"Philips\"\n  }, \"Philips\")))), __jsx(InputGroup, {\n    className: styles.inputGroup\n  }, __jsx(InputGroup.Text, null, \"Modality\"), __jsx(Dropdown, {\n    onSelect: handleSelect2,\n    className: \"w-100\"\n  }, __jsx(Dropdown.Toggle, {\n    variant: \"outline-secondary\",\n    id: \"dropdown-button-2\",\n    className: \"w-100\"\n  }, dropdown2Text), __jsx(Dropdown.Menu, {\n    className: \"w-100\"\n  }, __jsx(Dropdown.Item, {\n    eventKey: \"unassigned\"\n  }, \"Select Option\"), __jsx(Dropdown.Item, {\n    eventKey: \"CT\"\n  }, \"CT\"), __jsx(Dropdown.Item, {\n    eventKey: \"MRI\"\n  }, \"MRI\")))), __jsx(InputGroup, {\n    className: styles.inputGroup\n  }, __jsx(InputGroup.Text, null, \"Client\"), __jsx(Button, {\n    variant: \"outline-secondary\",\n    className: \"w-100\",\n    onClick: handleClientClick\n  }, clientButtonText)), __jsx(InputGroup, {\n    className: styles.inputGroup\n  }, __jsx(InputGroup.Text, null, \"Model\"), __jsx(Button, {\n    variant: \"outline-secondary\",\n    className: \"w-100\",\n    onClick: handleModelClick\n  }, modelButtonText)), __jsx(\"div\", {\n    className: styles.panelDivider\n  }), __jsx(\"div\", {\n    className: styles.panelTitle\n  }, \"Quick\"), __jsx(\"div\", {\n    className: styles.quickButtons\n  }, __jsx(Button, {\n    variant: \"outline-secondary\",\n    className: styles.quickButton,\n    onClick: handleWarehouseClick\n  }, \"Warehouse\"), __jsx(Button, {\n    variant: \"outline-secondary\",\n    className: styles.quickButton,\n    onClick: handleUnassignedClick\n  }, \"Unassigned\"))), __jsx(\"section\", {\n    className: styles.resultsPanel\n  }, __jsx(\"div\", {\n    className: styles.resultsHeader\n  }, __jsx(\"div\", null, __jsx(\"div\", {\n    className: styles.resultsTitle\n  }, \"Results\"), __jsx(\"div\", {\n    className: styles.resultsSubtitle\n  }, isLoading ? \"Loading items\" : \"\".concat(info.length, \" items\"))), __jsx(Pagination, {\n    size: \"sm\",\n    className: styles.pagination\n  }, __jsx(Pagination.Prev, {\n    onClick: function onClick() {\n      return setPage(function (p) {\n        return Math.max(1, p - 1);\n      });\n    },\n    disabled: page <= 1\n  }), pageButtons, __jsx(Pagination.Next, {\n    onClick: function onClick() {\n      return setPage(function (p) {\n        return p + 1;\n      });\n    },\n    disabled: !hasNextPage\n  }))), __jsx(\"div\", {\n    className: styles.searchRow\n  }, __jsx(FormControl, {\n    type: showListSearch,\n    placeholder: \"Search\",\n    className: styles.searchInput,\n    \"aria-label\": \"Search\",\n    value: search,\n    onChange: searchChangeHandler\n  }), __jsx(NavDropdown, {\n    title: select,\n    id: \"parent-search-dropdown\",\n    show: showList,\n    onMouseEnter: function onMouseEnter() {\n      return setShowList(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setShowList(false);\n    }\n  }, __jsx(NavDropdown.Item, {\n    onClick: function onClick() {\n      setSelect(\"Name\");\n      setShowListSearch(\"text\");\n    }\n  }, \"Name\"), __jsx(NavDropdown.Item, {\n    onClick: function onClick() {\n      setSelect(\"Date\");\n      setShowListSearch(\"date\");\n    }\n  }, \"Date\"), __jsx(NavDropdown.Item, {\n    onClick: function onClick() {\n      setSelect(\"Work Order\");\n      setShowListSearch(\"text\");\n    }\n  }, \"Work Order\"), __jsx(NavDropdown.Item, {\n    onClick: function onClick() {\n      setSelect(\"Product Number\");\n      setShowListSearch(\"text\");\n    }\n  }, \"Product Number\"), __jsx(NavDropdown.Item, {\n    onClick: function onClick() {\n      setSelect(\"Serial Number\");\n      setShowListSearch(\"text\");\n    }\n  }, \"Serial Number\"), __jsx(NavDropdown.Item, {\n    onClick: function onClick() {\n      setSelect(\"Description\");\n      setShowListSearch(\"text\");\n    }\n  }, \"Description\"))), __jsx(\"div\", {\n    className: styles.tableWrap\n  }, isLoading ? __jsx(\"div\", {\n    className: styles.loadingState\n  }, __jsx(\"img\", {\n    src: \"/magmo-logo.png\",\n    alt: \"Loading\",\n    className: styles.loadingLogo\n  })) : loadError ? __jsx(\"div\", {\n    className: styles.errorState\n  }, loadError) : __jsx(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    size: \"sm\",\n    className: styles.table\n  }, __jsx(\"thead\", {\n    className: styles.stickyHeader\n  }, __jsx(\"tr\", null, __jsx(\"th\", null, \"Name\"), __jsx(\"th\", null, \"Date\"), __jsx(\"th\", null, \"Work Order\"), __jsx(\"th\", null, \"Product Number\"), __jsx(\"th\", null, \"Serial Number\"), __jsx(\"th\", null, \"Select\"))), __jsx(\"tbody\", null, info.length === 0 && __jsx(\"tr\", null, __jsx(\"td\", {\n    colSpan: 6,\n    className: styles.emptyState\n  }, \"No items found.\")), info.map(function (item) {\n    return __jsx(\"tr\", {\n      key: item.id\n    }, __jsx(\"td\", null, item.name), __jsx(\"td\", null, formatDate(item.date)), __jsx(\"td\", null, item.workOrders && item.workOrders.length > 0 ? item.workOrders[item.workOrders.length - 1].workOrder : \"N/A\"), __jsx(\"td\", null, item.pn), __jsx(\"td\", null, item.sn), __jsx(\"td\", null, __jsx(Button, {\n      variant: \"primary\",\n      size: \"sm\",\n      onClick: function onClick() {\n        return rowSelect(item);\n      }\n    }, \"Select\")));\n  }))))))), __jsx(Modal.Footer, {\n    className: styles.modalFooter\n  }, __jsx(Button, {\n    variant: \"secondary\",\n    onClick: handleClose\n  }, \"Cancel\"), __jsx(Button, {\n    variant: \"warning\",\n    onClick: function onClick() {\n      setSelectedParent(null);\n      handleClose();\n    }\n  }, \"Clear Selection\")), __jsx(Modal, {\n    show: showClientModal,\n    onHide: function onHide() {\n      return setShowClientModal(false);\n    }\n  }, __jsx(Modal.Header, {\n    closeButton: true\n  }, __jsx(Modal.Title, null, \"Select Client\")), __jsx(Modal.Body, null, __jsx(FormControl, {\n    type: \"text\",\n    placeholder: \"Search by name\",\n    className: \"mb-3\",\n    value: clientSearchTerm,\n    onChange: function onChange(e) {\n      return setClientSearchTerm(e.target.value);\n    }\n  }), __jsx(ClientTable, {\n    clients: clients.filter(function (client) {\n      return (client.name || \"\").toLowerCase().includes(clientSearchTerm.toLowerCase());\n    }),\n    disableInfo: true,\n    onSelectClient: handleClientSelect,\n    onInfoClick: handleClientInfo,\n    clearSelection: handleClearClientSelection\n  }))), __jsx(Modal, {\n    show: showModelModal,\n    onHide: function onHide() {\n      return setShowModelModal(false);\n    }\n  }, __jsx(Modal.Header, {\n    closeButton: true\n  }, __jsx(Modal.Title, null, \"Select Model\")), __jsx(Modal.Body, null, __jsx(FormControl, {\n    type: \"text\",\n    placeholder: \"Search by name\",\n    className: \"mb-3\",\n    value: modelSearchTerm,\n    onChange: function onChange(e) {\n      return setModelSearchTerm(e.target.value);\n    }\n  }), __jsx(ModelTable, {\n    models: models.filter(function (model) {\n      return typeof model === \"string\" ? model.toLowerCase().includes(modelSearchTerm.toLowerCase()) : false;\n    }),\n    onSelectModel: handleModelSelect,\n    clearSelection: handleClearModelSelection\n  }))));\n};\n\nexport default ParentModal;","map":null,"metadata":{},"sourceType":"module"}