{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mack2\\\\Desktop\\\\code\\\\components\\\\MultiSelectDropdown.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport styles from \"./MultiSelectDropdown.module.css\";\n\nfunction normalizeValue(value) {\n  if (value == null) return \"\";\n  return String(value).trim();\n}\n\nexport default function MultiSelectDropdown(_ref) {\n  _s();\n\n  var _this = this;\n\n  var label = _ref.label,\n      _ref$placeholder = _ref.placeholder,\n      placeholder = _ref$placeholder === void 0 ? \"Select Option\" : _ref$placeholder,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? [] : _ref$options,\n      _ref$selected = _ref.selected,\n      selected = _ref$selected === void 0 ? [] : _ref$selected,\n      onChange = _ref.onChange,\n      _ref$searchable = _ref.searchable,\n      searchable = _ref$searchable === void 0 ? true : _ref$searchable,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$enableDelete = _ref.enableDelete,\n      enableDelete = _ref$enableDelete === void 0 ? false : _ref$enableDelete,\n      onDeleteOption = _ref.onDeleteOption;\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      query = _useState2[0],\n      setQuery = _useState2[1];\n\n  var menuRef = useRef(null);\n  var holdTimerRef = useRef(null);\n  var holdTriggeredRef = useRef(false);\n  var selectedSet = useMemo(function () {\n    return new Set((selected || []).map(normalizeValue).filter(Boolean));\n  }, [selected]);\n  var filteredOptions = useMemo(function () {\n    var search = query.trim().toLowerCase();\n    var normalized = (options || []).map(normalizeValue).filter(Boolean);\n    if (!search) return normalized;\n    return normalized.filter(function (option) {\n      return option.toLowerCase().includes(search);\n    });\n  }, [options, query]);\n\n  var toggleOption = function toggleOption(value) {\n    var normalized = normalizeValue(value);\n    if (!normalized || typeof onChange !== \"function\") return;\n    var next = new Set(selectedSet);\n\n    if (next.has(normalized)) {\n      next[\"delete\"](normalized);\n    } else {\n      next.add(normalized);\n    }\n\n    onChange(Array.from(next));\n  };\n\n  var startHold = function startHold(value) {\n    if (!enableDelete || typeof onDeleteOption !== \"function\") return;\n    holdTriggeredRef.current = false;\n    clearTimeout(holdTimerRef.current);\n    holdTimerRef.current = setTimeout(function () {\n      holdTriggeredRef.current = true;\n      var confirmed = window.confirm(\"Delete \\\"\".concat(value, \"\\\" from the list?\"));\n\n      if (confirmed) {\n        onDeleteOption(value);\n      }\n    }, 650);\n  };\n\n  var cancelHold = function cancelHold() {\n    clearTimeout(holdTimerRef.current);\n  };\n\n  var handleOptionClick = function handleOptionClick(value) {\n    if (holdTriggeredRef.current) {\n      holdTriggeredRef.current = false;\n      return;\n    }\n\n    toggleOption(value);\n  };\n\n  var displayText = useMemo(function () {\n    if (!selectedSet.size) return placeholder;\n    var values = Array.from(selectedSet);\n    if (values.length === 1) return values[0];\n    return \"Multi (\".concat(values.length, \")\");\n  }, [placeholder, selectedSet]);\n  useEffect(function () {\n    var handleOutside = function handleOutside(event) {\n      if (!menuRef.current) return;\n\n      if (!menuRef.current.contains(event.target)) {\n        setOpen(false);\n      }\n    };\n\n    if (open) {\n      document.addEventListener(\"mousedown\", handleOutside);\n      document.addEventListener(\"touchstart\", handleOutside);\n    }\n\n    return function () {\n      document.removeEventListener(\"mousedown\", handleOutside);\n      document.removeEventListener(\"touchstart\", handleOutside);\n    };\n  }, [open]);\n  useEffect(function () {\n    if (!open) setQuery(\"\");\n  }, [open]);\n  return __jsx(\"div\", {\n    className: styles.wrapper,\n    ref: menuRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, label ? __jsx(\"div\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 16\n    }\n  }, label) : null, __jsx(\"button\", {\n    type: \"button\",\n    className: styles.toggle,\n    onClick: function onClick() {\n      return setOpen(function (prev) {\n        return !prev;\n      });\n    },\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    className: styles.toggleText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, displayText), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, open ? \"▲\" : \"▼\")), open && __jsx(\"div\", {\n    className: styles.menu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, searchable && __jsx(\"input\", {\n    className: styles.search,\n    placeholder: \"Search...\",\n    value: query,\n    onChange: function onChange(event) {\n      return setQuery(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: styles.list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, !filteredOptions.length && __jsx(\"div\", {\n    className: styles.emptyState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, \"No results\"), filteredOptions.map(function (option) {\n    var checked = selectedSet.has(option);\n    return __jsx(\"div\", {\n      key: option,\n      className: styles.option,\n      onMouseDown: function onMouseDown() {\n        return startHold(option);\n      },\n      onMouseUp: cancelHold,\n      onMouseLeave: cancelHold,\n      onTouchStart: function onTouchStart() {\n        return startHold(option);\n      },\n      onTouchEnd: cancelHold,\n      onClick: function onClick() {\n        return handleOptionClick(option);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      className: styles.optionCheckbox,\n      checked: checked,\n      readOnly: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }), __jsx(\"span\", {\n      className: styles.optionLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, option));\n  }))));\n}\n\n_s(MultiSelectDropdown, \"L15C50AEaYHfbDVbbOePWW2wN7k=\");\n\n_c = MultiSelectDropdown;\n\nvar _c;\n\n$RefreshReg$(_c, \"MultiSelectDropdown\");","map":{"version":3,"sources":["C:/Users/mack2/Desktop/code/components/MultiSelectDropdown.js"],"names":["React","useEffect","useMemo","useRef","useState","styles","normalizeValue","value","String","trim","MultiSelectDropdown","label","placeholder","options","selected","onChange","searchable","disabled","enableDelete","onDeleteOption","open","setOpen","query","setQuery","menuRef","holdTimerRef","holdTriggeredRef","selectedSet","Set","map","filter","Boolean","filteredOptions","search","toLowerCase","normalized","option","includes","toggleOption","next","has","add","Array","from","startHold","current","clearTimeout","setTimeout","confirmed","window","confirm","cancelHold","handleOptionClick","displayText","size","values","length","handleOutside","event","contains","target","document","addEventListener","removeEventListener","wrapper","toggle","prev","toggleText","menu","list","emptyState","checked","optionCheckbox","optionLabel"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport styles from \"./MultiSelectDropdown.module.css\";\n\nfunction normalizeValue(value) {\n  if (value == null) return \"\";\n  return String(value).trim();\n}\n\nexport default function MultiSelectDropdown({\n  label,\n  placeholder = \"Select Option\",\n  options = [],\n  selected = [],\n  onChange,\n  searchable = true,\n  disabled = false,\n  enableDelete = false,\n  onDeleteOption,\n}) {\n  const [open, setOpen] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const menuRef = useRef(null);\n  const holdTimerRef = useRef(null);\n  const holdTriggeredRef = useRef(false);\n\n  const selectedSet = useMemo(\n    () => new Set((selected || []).map(normalizeValue).filter(Boolean)),\n    [selected]\n  );\n\n  const filteredOptions = useMemo(() => {\n    const search = query.trim().toLowerCase();\n    const normalized = (options || [])\n      .map(normalizeValue)\n      .filter(Boolean);\n    if (!search) return normalized;\n    return normalized.filter((option) =>\n      option.toLowerCase().includes(search)\n    );\n  }, [options, query]);\n\n  const toggleOption = (value) => {\n    const normalized = normalizeValue(value);\n    if (!normalized || typeof onChange !== \"function\") return;\n    const next = new Set(selectedSet);\n    if (next.has(normalized)) {\n      next.delete(normalized);\n    } else {\n      next.add(normalized);\n    }\n    onChange(Array.from(next));\n  };\n\n  const startHold = (value) => {\n    if (!enableDelete || typeof onDeleteOption !== \"function\") return;\n    holdTriggeredRef.current = false;\n    clearTimeout(holdTimerRef.current);\n    holdTimerRef.current = setTimeout(() => {\n      holdTriggeredRef.current = true;\n      const confirmed = window.confirm(`Delete \"${value}\" from the list?`);\n      if (confirmed) {\n        onDeleteOption(value);\n      }\n    }, 650);\n  };\n\n  const cancelHold = () => {\n    clearTimeout(holdTimerRef.current);\n  };\n\n  const handleOptionClick = (value) => {\n    if (holdTriggeredRef.current) {\n      holdTriggeredRef.current = false;\n      return;\n    }\n    toggleOption(value);\n  };\n\n  const displayText = useMemo(() => {\n    if (!selectedSet.size) return placeholder;\n    const values = Array.from(selectedSet);\n    if (values.length === 1) return values[0];\n    return `Multi (${values.length})`;\n  }, [placeholder, selectedSet]);\n\n  useEffect(() => {\n    const handleOutside = (event) => {\n      if (!menuRef.current) return;\n      if (!menuRef.current.contains(event.target)) {\n        setOpen(false);\n      }\n    };\n    if (open) {\n      document.addEventListener(\"mousedown\", handleOutside);\n      document.addEventListener(\"touchstart\", handleOutside);\n    }\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutside);\n      document.removeEventListener(\"touchstart\", handleOutside);\n    };\n  }, [open]);\n\n  useEffect(() => {\n    if (!open) setQuery(\"\");\n  }, [open]);\n\n  return (\n    <div className={styles.wrapper} ref={menuRef}>\n      {label ? <div className={styles.label}>{label}</div> : null}\n      <button\n        type=\"button\"\n        className={styles.toggle}\n        onClick={() => setOpen((prev) => !prev)}\n        disabled={disabled}\n      >\n        <span className={styles.toggleText}>{displayText}</span>\n        <span>{open ? \"▲\" : \"▼\"}</span>\n      </button>\n      {open && (\n        <div className={styles.menu}>\n          {searchable && (\n            <input\n              className={styles.search}\n              placeholder=\"Search...\"\n              value={query}\n              onChange={(event) => setQuery(event.target.value)}\n            />\n          )}\n          <div className={styles.list}>\n            {!filteredOptions.length && (\n              <div className={styles.emptyState}>No results</div>\n            )}\n            {filteredOptions.map((option) => {\n              const checked = selectedSet.has(option);\n              return (\n                <div\n                  key={option}\n                  className={styles.option}\n                  onMouseDown={() => startHold(option)}\n                  onMouseUp={cancelHold}\n                  onMouseLeave={cancelHold}\n                  onTouchStart={() => startHold(option)}\n                  onTouchEnd={cancelHold}\n                  onClick={() => handleOptionClick(option)}\n                >\n                  <input\n                    type=\"checkbox\"\n                    className={styles.optionCheckbox}\n                    checked={checked}\n                    readOnly\n                  />\n                  <span className={styles.optionLabel}>{option}</span>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}