{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\mack2\\\\Desktop\\\\code\\\\pages\\\\NewSearch\\\\clientSearch.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Card, Row, Col, FormControl, Button, Spinner } from \"react-bootstrap\";\nimport { useRouter } from \"next/router\";\nimport { fetchClients } from \"../../utils/fetchAssociations\";\nimport ClientTable from \"../../utils/ClientTable\";\nimport styles from \"../../styles/MainSearch.module.css\"; // import styles from \"../../styles/ClientPage.module.css\";\n\nvar ClientPage = function ClientPage() {\n  _s();\n\n  var _useState = useState([]),\n      clients = _useState[0],\n      setClients = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      clientSearchTerm = _useState2[0],\n      setClientSearchTerm = _useState2[1];\n\n  var _useState3 = useState(true),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var router = useRouter(); // Fetch clients when the component mounts\n\n  useEffect(function () {\n    var fetchClientData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var clientsData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetchClients();\n\n              case 3:\n                clientsData = _context.sent;\n                setClients(clientsData);\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(\"Error fetching clients: \", _context.t0);\n\n              case 10:\n                _context.prev = 10;\n                setIsLoading(false);\n                return _context.finish(10);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7, 10, 13]]);\n      }));\n\n      return function fetchClientData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchClientData();\n  }, []); // Handle search input changes\n\n  var handleSearchChange = function handleSearchChange(event) {\n    setClientSearchTerm(event.target.value);\n  }; // Handle client selection\n\n\n  var handleSelectClient = function handleSelectClient(clientId) {\n    console.log(\"Selected client ID:\", clientId); // Redirect to client-specific page\n\n    router.push(\"client/\".concat(clientId));\n  }; // Handle client info button click\n\n\n  var handleClientInfo = function handleClientInfo(clientId) {\n    router.push(\"client/\".concat(clientId, \"/addClient\"));\n  }; // Clear search input\n\n\n  var clearSelection = function clearSelection() {\n    setClientSearchTerm(\"\");\n  };\n\n  var addClient = function addClient() {\n    var randomNumber = Math.floor(10000 + Math.random() * 90000); // Navigate to the new route with the random number\n\n    router.push(\"client/AIS\".concat(randomNumber, \"/addClient\"));\n  };\n\n  return __jsx(Container, {\n    className: \"py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, __jsx(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, __jsx(Card.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: \"text-center mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Clients\"), isLoading ? __jsx(\"div\", {\n    className: \"d-flex justify-content-center align-items-center\",\n    style: {\n      minHeight: \"300px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Loading...\"))) : __jsx(React.Fragment, null, __jsx(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, __jsx(Col, {\n    md: {\n      span: 6,\n      offset: 3\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, __jsx(FormControl, {\n    type: \"text\",\n    placeholder: \"Search by name\",\n    value: clientSearchTerm,\n    onChange: handleSearchChange,\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }), __jsx(Row, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, __jsx(Col, {\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    variant: \"secondary\",\n    className: \"w-100\",\n    onClick: clearSelection,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, \"Clear Search\")), __jsx(Col, {\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    variant: \"primary\",\n    className: \"w-100\",\n    onClick: addClient,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }, \"Add New Client\")), __jsx(Col, {\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    variant: \"secondary\",\n    className: \"w-100\",\n    onClick: function onClick() {\n      return router.push(\"../Warehousedb/WarehouseSelect\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }, \"back\"))))), __jsx(ClientTable, {\n    clients: clients.filter(function (client) {\n      return (client.name || \"\").toLowerCase().includes(clientSearchTerm.toLowerCase());\n    }),\n    onSelectClient: handleSelectClient,\n    onInfoClick: handleClientInfo,\n    isClientSearch: true // clearSelection={clearSelection}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  })))));\n};\n\n_s(ClientPage, \"mFJ3uDzlOcnjxDl3LvMv68ADWRM=\", false, function () {\n  return [useRouter];\n});\n\n_c = ClientPage;\nexport default ClientPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientPage\");","map":{"version":3,"sources":["C:/Users/mack2/Desktop/code/pages/NewSearch/clientSearch.js"],"names":["React","useState","useEffect","Container","Card","Row","Col","FormControl","Button","Spinner","useRouter","fetchClients","ClientTable","styles","ClientPage","clients","setClients","clientSearchTerm","setClientSearchTerm","isLoading","setIsLoading","router","fetchClientData","clientsData","console","error","handleSearchChange","event","target","value","handleSelectClient","clientId","log","push","handleClientInfo","clearSelection","addClient","randomNumber","Math","floor","random","minHeight","span","offset","filter","client","name","toLowerCase","includes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Card,\n  Row,\n  Col,\n  FormControl,\n  Button,\n  Spinner,\n} from \"react-bootstrap\";\nimport { useRouter } from \"next/router\";\nimport { fetchClients } from \"../../utils/fetchAssociations\";\nimport ClientTable from \"../../utils/ClientTable\";\nimport styles from \"../../styles/MainSearch.module.css\";\n\n// import styles from \"../../styles/ClientPage.module.css\";\n\nconst ClientPage = () => {\n  const [clients, setClients] = useState([]);\n  const [clientSearchTerm, setClientSearchTerm] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n\n  // Fetch clients when the component mounts\n  useEffect(() => {\n    const fetchClientData = async () => {\n      try {\n        const clientsData = await fetchClients();\n        setClients(clientsData);\n      } catch (error) {\n        console.error(\"Error fetching clients: \", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchClientData();\n  }, []);\n\n  // Handle search input changes\n  const handleSearchChange = (event) => {\n    setClientSearchTerm(event.target.value);\n  };\n\n  // Handle client selection\n  const handleSelectClient = (clientId) => {\n    console.log(\"Selected client ID:\", clientId);\n    // Redirect to client-specific page\n    router.push(`client/${clientId}`);\n  };\n\n  // Handle client info button click\n  const handleClientInfo = (clientId) => {\n    router.push(`client/${clientId}/addClient`);\n  };\n  \n\n  // Clear search input\n  const clearSelection = () => {\n    setClientSearchTerm(\"\");\n  };\n\n  const addClient = () => {\n    const randomNumber = Math.floor(10000 + Math.random() * 90000);\n  \n  // Navigate to the new route with the random number\n  router.push(`client/AIS${randomNumber}/addClient`);\n  };\n\n  return (\n    <Container className=\"py-4\">\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Clients</h2>\n          {isLoading ? (\n            <div\n              className=\"d-flex justify-content-center align-items-center\"\n              style={{ minHeight: \"300px\" }}\n            >\n              <Spinner animation=\"border\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </Spinner>\n            </div>\n          ) : (\n            <>\n              <Row className=\"mb-3\">\n                <Col md={{ span: 6, offset: 3 }}>\n                  <FormControl\n                    type=\"text\"\n                    placeholder=\"Search by name\"\n                    value={clientSearchTerm}\n                    onChange={handleSearchChange}\n                    className=\"mb-3\"\n                  />\n                  <Row className=\"mb-3\">\n                    <Col md={4}>\n                      <Button\n                        variant=\"secondary\"\n                        className=\"w-100\"\n                        onClick={clearSelection}\n                      >\n                        Clear Search\n                      </Button>\n                    </Col>\n                    <Col md={4}>\n                      <Button\n                        variant=\"primary\"\n                        className=\"w-100\"\n                        onClick={addClient}\n                      >\n                        Add New Client\n                      </Button>\n                    </Col>\n                    <Col md={4}>\n                      <Button\n                        variant=\"secondary\"\n                        className=\"w-100\"\n                        onClick={() => router.push(\"../Warehousedb/WarehouseSelect\")}\n                      >\n                        back\n                      </Button>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n              <ClientTable\n                clients={clients.filter((client) =>\n                  (client.name || \"\")\n                    .toLowerCase()\n                    .includes(clientSearchTerm.toLowerCase())\n                )}\n                onSelectClient={handleSelectClient}\n                onInfoClick={handleClientInfo}\n                isClientSearch={true}\n                // clearSelection={clearSelection}\n              />\n            </>\n          )}\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n};\n\nexport default ClientPage;\n"]},"metadata":{},"sourceType":"module"}