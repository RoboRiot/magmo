{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/mack2/Desktop/code/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\mack2\\\\Desktop\\\\code\\\\pages\\\\NewSearch\\\\clientSearch.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { FormControl, Button, Spinner, Alert } from \"react-bootstrap\";\nimport { useRouter } from \"next/router\";\nimport { fetchClients } from \"../../utils/fetchAssociations\";\nimport ClientTable from \"../../utils/ClientTable\";\nimport styles from \"../../styles/ClientSearch.module.css\"; // import styles from \"../../styles/ClientPage.module.css\";\n\nvar ClientPage = function ClientPage() {\n  _s();\n\n  var _useState = useState([]),\n      clients = _useState[0],\n      setClients = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      clientSearchTerm = _useState2[0],\n      setClientSearchTerm = _useState2[1];\n\n  var _useState3 = useState(true),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useState4 = useState(null),\n      loadError = _useState4[0],\n      setLoadError = _useState4[1];\n\n  var router = useRouter(); // Fetch clients when the component mounts\n\n  useEffect(function () {\n    var fetchClientData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var clientsData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetchClients();\n\n              case 3:\n                clientsData = _context.sent;\n                setClients(clientsData);\n                setLoadError(null);\n                _context.next = 12;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(\"Error fetching clients: \", _context.t0);\n                setLoadError(\"Failed to load clients. Please try again.\");\n\n              case 12:\n                _context.prev = 12;\n                setIsLoading(false);\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8, 12, 15]]);\n      }));\n\n      return function fetchClientData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchClientData();\n  }, []); // Handle search input changes\n\n  var handleSearchChange = function handleSearchChange(event) {\n    setClientSearchTerm(event.target.value);\n  }; // Handle client selection\n\n\n  var handleSelectClient = function handleSelectClient(clientId) {\n    console.log(\"Selected client ID:\", clientId); // Redirect to client-specific page\n\n    router.push(\"client/\".concat(clientId));\n  }; // Handle client info button click\n\n\n  var handleClientInfo = function handleClientInfo(clientId) {\n    router.push(\"client/\".concat(clientId, \"/addClient\"));\n  }; // Clear search input\n\n\n  var clearSelection = function clearSelection() {\n    setClientSearchTerm(\"\");\n  };\n\n  var addClient = function addClient() {\n    var randomNumber = Math.floor(10000 + Math.random() * 90000); // Navigate to the new route with the random number\n\n    router.push(\"client/AIS\".concat(randomNumber, \"/addClient\"));\n  };\n\n  var normalizedSearch = clientSearchTerm.trim().toLowerCase();\n  var filteredClients = (Array.isArray(clients) ? clients : []).filter(function (client) {\n    return ((client === null || client === void 0 ? void 0 : client.name) || \"\").toLowerCase().includes(normalizedSearch);\n  });\n  return __jsx(\"div\", {\n    className: styles.page,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.shell,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, __jsx(\"header\", {\n    className: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.brand,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: \"/magmo-logo.png\",\n    alt: \"Magmo\",\n    className: styles.brandLogo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.brandName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Magmo\"), __jsx(\"div\", {\n    className: styles.brandSub,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Client Search\"))), __jsx(\"div\", {\n    className: styles.headerActions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    variant: \"outline-secondary\",\n    className: styles.backButton,\n    onClick: function onClick() {\n      return router.push(\"../Warehousedb/WarehouseSelect\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Back\"))), __jsx(\"section\", {\n    className: styles.card,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.cardHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.cardTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Clients\"), __jsx(\"div\", {\n    className: styles.cardSubtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Search by name and manage client records.\")), __jsx(\"div\", {\n    className: styles.cardBadge,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, filteredClients.length, \" clients\")), __jsx(\"div\", {\n    className: styles.cardBody,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, loadError && __jsx(Alert, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 27\n    }\n  }, loadError), isLoading ? __jsx(\"div\", {\n    className: styles.loadingWrap,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Loading...\"))) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.searchRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, __jsx(FormControl, {\n    type: \"text\",\n    placeholder: \"Search by name\",\n    value: clientSearchTerm,\n    onChange: handleSearchChange,\n    className: styles.searchInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }), __jsx(Button, {\n    variant: \"outline-secondary\",\n    className: styles.clearButton,\n    onClick: clearSelection,\n    disabled: !clientSearchTerm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, \"Clear\")), __jsx(\"div\", {\n    className: styles.actionRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    variant: \"primary\",\n    className: styles.primaryButton,\n    onClick: addClient,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, \"Add New Client\")), __jsx(\"div\", {\n    className: styles.tableWrap,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, __jsx(ClientTable, {\n    clients: filteredClients,\n    onSelectClient: handleSelectClient,\n    onInfoClick: handleClientInfo,\n    isClientSearch: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  })))))));\n};\n\n_s(ClientPage, \"aKuJYPMQMyJxMVGBOEvC8OcmXao=\", false, function () {\n  return [useRouter];\n});\n\n_c = ClientPage;\nexport default ClientPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientPage\");","map":{"version":3,"sources":["C:/Users/mack2/Desktop/code/pages/NewSearch/clientSearch.js"],"names":["React","useState","useEffect","FormControl","Button","Spinner","Alert","useRouter","fetchClients","ClientTable","styles","ClientPage","clients","setClients","clientSearchTerm","setClientSearchTerm","isLoading","setIsLoading","loadError","setLoadError","router","fetchClientData","clientsData","console","error","handleSearchChange","event","target","value","handleSelectClient","clientId","log","push","handleClientInfo","clearSelection","addClient","randomNumber","Math","floor","random","normalizedSearch","trim","toLowerCase","filteredClients","Array","isArray","filter","client","name","includes","page","shell","header","brand","brandLogo","brandName","brandSub","headerActions","backButton","card","cardHeader","cardTitle","cardSubtitle","cardBadge","length","cardBody","loadingWrap","searchRow","searchInput","clearButton","actionRow","primaryButton","tableWrap"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { FormControl, Button, Spinner, Alert } from \"react-bootstrap\";\nimport { useRouter } from \"next/router\";\nimport { fetchClients } from \"../../utils/fetchAssociations\";\nimport ClientTable from \"../../utils/ClientTable\";\nimport styles from \"../../styles/ClientSearch.module.css\";\n\n// import styles from \"../../styles/ClientPage.module.css\";\n\nconst ClientPage = () => {\n  const [clients, setClients] = useState([]);\n  const [clientSearchTerm, setClientSearchTerm] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [loadError, setLoadError] = useState(null);\n  const router = useRouter();\n\n  // Fetch clients when the component mounts\n  useEffect(() => {\n    const fetchClientData = async () => {\n      try {\n        const clientsData = await fetchClients();\n        setClients(clientsData);\n        setLoadError(null);\n      } catch (error) {\n        console.error(\"Error fetching clients: \", error);\n        setLoadError(\"Failed to load clients. Please try again.\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchClientData();\n  }, []);\n\n  // Handle search input changes\n  const handleSearchChange = (event) => {\n    setClientSearchTerm(event.target.value);\n  };\n\n  // Handle client selection\n  const handleSelectClient = (clientId) => {\n    console.log(\"Selected client ID:\", clientId);\n    // Redirect to client-specific page\n    router.push(`client/${clientId}`);\n  };\n\n  // Handle client info button click\n  const handleClientInfo = (clientId) => {\n    router.push(`client/${clientId}/addClient`);\n  };\n  \n\n  // Clear search input\n  const clearSelection = () => {\n    setClientSearchTerm(\"\");\n  };\n\n  const addClient = () => {\n    const randomNumber = Math.floor(10000 + Math.random() * 90000);\n  \n  // Navigate to the new route with the random number\n  router.push(`client/AIS${randomNumber}/addClient`);\n  };\n\n  const normalizedSearch = clientSearchTerm.trim().toLowerCase();\n  const filteredClients = (Array.isArray(clients) ? clients : []).filter(\n    (client) =>\n      (client?.name || \"\").toLowerCase().includes(normalizedSearch)\n  );\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.shell}>\n        <header className={styles.header}>\n          <div className={styles.brand}>\n            <img\n              src=\"/magmo-logo.png\"\n              alt=\"Magmo\"\n              className={styles.brandLogo}\n            />\n            <div>\n              <div className={styles.brandName}>Magmo</div>\n              <div className={styles.brandSub}>Client Search</div>\n            </div>\n          </div>\n          <div className={styles.headerActions}>\n            <Button\n              variant=\"outline-secondary\"\n              className={styles.backButton}\n              onClick={() => router.push(\"../Warehousedb/WarehouseSelect\")}\n            >\n              Back\n            </Button>\n          </div>\n        </header>\n\n        <section className={styles.card}>\n          <div className={styles.cardHeader}>\n            <div>\n              <div className={styles.cardTitle}>Clients</div>\n              <div className={styles.cardSubtitle}>\n                Search by name and manage client records.\n              </div>\n            </div>\n            <div className={styles.cardBadge}>\n              {filteredClients.length} clients\n            </div>\n          </div>\n\n          <div className={styles.cardBody}>\n            {loadError && <Alert variant=\"danger\">{loadError}</Alert>}\n            {isLoading ? (\n              <div className={styles.loadingWrap}>\n                <Spinner animation=\"border\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </Spinner>\n              </div>\n            ) : (\n              <>\n                <div className={styles.searchRow}>\n                  <FormControl\n                    type=\"text\"\n                    placeholder=\"Search by name\"\n                    value={clientSearchTerm}\n                    onChange={handleSearchChange}\n                    className={styles.searchInput}\n                  />\n                  <Button\n                    variant=\"outline-secondary\"\n                    className={styles.clearButton}\n                    onClick={clearSelection}\n                    disabled={!clientSearchTerm}\n                  >\n                    Clear\n                  </Button>\n                </div>\n\n                <div className={styles.actionRow}>\n                  <Button\n                    variant=\"primary\"\n                    className={styles.primaryButton}\n                    onClick={addClient}\n                  >\n                    Add New Client\n                  </Button>\n                </div>\n\n                <div className={styles.tableWrap}>\n                  <ClientTable\n                    clients={filteredClients}\n                    onSelectClient={handleSelectClient}\n                    onInfoClick={handleClientInfo}\n                    isClientSearch={true}\n                  />\n                </div>\n              </>\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default ClientPage;\n"]},"metadata":{},"sourceType":"module"}