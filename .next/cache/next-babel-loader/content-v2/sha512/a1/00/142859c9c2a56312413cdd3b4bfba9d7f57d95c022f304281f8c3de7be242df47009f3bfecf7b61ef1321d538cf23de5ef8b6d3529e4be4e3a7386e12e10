{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useAuth } from \"../context/AuthUserContext\";\nimport { Container } from \"react-bootstrap\";\n\nvar LoggedIn = function LoggedIn(_ref) {\n  var children = _ref.children;\n\n  var _useAuth = useAuth(),\n      authUser = _useAuth.authUser,\n      loading = _useAuth.loading;\n\n  var router = useRouter(); // Redirect only after a short delay if authUser remains null.\n\n  useEffect(function () {\n    console.log(\"=== LOGGEDIN AUTH CHECK ===\");\n    console.log(\"loading:\", loading);\n    console.log(\"authUser:\", authUser);\n    console.log(\"router.asPath:\", router.asPath);\n\n    if (!loading && authUser === null) {\n      console.log(\"No auth user, will redirect to login in 800ms\"); // Set a delay (e.g. 500ms) to give Firebase Auth a chance to rehydrate.\n\n      var timer = setTimeout(function () {\n        console.log(\"Redirecting to login now\");\n        router.push(\"/?redirect=\".concat(encodeURIComponent(router.asPath)));\n      }, 800);\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n  }, [authUser, loading, router]);\n\n  if (loading) {\n    return __jsx(Container, {\n      className: \"d-flex align-items-center justify-content-center\",\n      style: {\n        minHeight: \"100vh\"\n      }\n    }, __jsx(\"h3\", null, \"Loading...\"));\n  }\n\n  return __jsx(React.Fragment, null, authUser && children);\n};\n\nexport default LoggedIn;","map":null,"metadata":{},"sourceType":"module"}