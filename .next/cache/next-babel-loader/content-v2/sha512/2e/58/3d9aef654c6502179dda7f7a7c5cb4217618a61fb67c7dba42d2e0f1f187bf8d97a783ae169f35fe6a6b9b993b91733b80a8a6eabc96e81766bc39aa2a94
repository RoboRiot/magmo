{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mack2\\\\Desktop\\\\code\\\\pages\\\\NewSearch\\\\inventory\\\\inventoryManage.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport LoggedIn from \"../../LoggedIn\";\nimport firebase from \"../../../context/Firebase\";\nimport { Table, Form, Button, Container, Row, Col, Spinner } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { formatLoc } from \"../../../utils/itemFormShared\";\nexport default function InventoryManage() {\n  const router = useRouter();\n  const {\n    0: items,\n    1: setItems\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: selectedIds,\n    1: setSelectedIds\n  } = useState(new Set());\n  const {\n    0: filters,\n    1: setFilters\n  } = useState({\n    region: \"\",\n    sectionLetter: \"\",\n    sectionNumber: \"\",\n    bin: \"\",\n    pallet: \"\",\n    localSN: \"\"\n  });\n  const {\n    0: bulkField,\n    1: setBulkField\n  } = useState(\"\");\n  const {\n    0: bulkValue,\n    1: setBulkValue\n  } = useState(\"\"); // ---- load data once ----\n\n  useEffect(() => {\n    const db = firebase.firestore();\n    db.collection(\"Test\").get().then(snap => {\n      const data = snap.docs.map(d => {\n        var _loc$region$toString, _loc$region, _loc$bin$toString, _loc$bin, _loc$pallet$toString, _loc$pallet;\n\n        const doc = d.data();\n        const loc = doc.newLocalCurrent || {};\n        let sectionLetter = \"\";\n        let sectionNumber = \"\";\n\n        if (typeof loc.section === \"string\") {\n          sectionLetter = loc.section.slice(0, 1);\n          sectionNumber = loc.section.slice(1);\n        } else if (loc.section) {\n          sectionLetter = loc.section.letter || \"\";\n          sectionNumber = loc.section.number !== undefined && loc.section.number !== null ? String(loc.section.number) : \"\";\n        }\n\n        return {\n          id: d.id,\n          name: doc.name || \"\",\n          pn: doc.pn || \"\",\n          sn: doc.sn || \"\",\n          localSN: doc.localSN || \"\",\n          region: (_loc$region$toString = (_loc$region = loc.region) === null || _loc$region === void 0 ? void 0 : _loc$region.toString()) !== null && _loc$region$toString !== void 0 ? _loc$region$toString : \"\",\n          sectionLetter,\n          sectionNumber,\n          bin: (_loc$bin$toString = (_loc$bin = loc.bin) === null || _loc$bin === void 0 ? void 0 : _loc$bin.toString()) !== null && _loc$bin$toString !== void 0 ? _loc$bin$toString : \"\",\n          pallet: (_loc$pallet$toString = (_loc$pallet = loc.pallet) === null || _loc$pallet === void 0 ? void 0 : _loc$pallet.toString()) !== null && _loc$pallet$toString !== void 0 ? _loc$pallet$toString : \"\"\n        };\n      });\n      setItems(data);\n    }).finally(() => setLoading(false));\n  }, []);\n  useEffect(() => {\n    if (!router.isReady) return;\n    const qp = router.query;\n\n    const getParam = key => Array.isArray(qp[key]) ? qp[key][0] : qp[key];\n\n    setFilters(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      region: getParam(\"region\") || \"\",\n      sectionLetter: getParam(\"sectionLetter\") || \"\",\n      sectionNumber: getParam(\"sectionNumber\") || \"\",\n      bin: getParam(\"bin\") || \"\",\n      pallet: getParam(\"pallet\") || \"\",\n      localSN: getParam(\"localSN\") || \"\"\n    }));\n  }, [router.isReady]); // ---- derive distinct filter options ----\n\n  const distinct = arr => Array.from(new Set(arr.filter(v => v))).sort();\n\n  const regions = useMemo(() => distinct(items.map(i => i.region)), [items]);\n  const sectionLetters = useMemo(() => distinct(items.map(i => i.sectionLetter)), [items]);\n  const sectionNumbers = useMemo(() => distinct(items.map(i => i.sectionNumber)), [items]);\n  const bins = useMemo(() => distinct(items.map(i => i.bin)), [items]);\n  const pallets = useMemo(() => distinct(items.map(i => i.pallet)), [items]); // ---- toggles ----\n\n  const toggleSelect = id => {\n    setSelectedIds(prev => {\n      const next = new Set(prev);\n      next.has(id) ? next.delete(id) : next.add(id);\n      return next;\n    });\n  };\n\n  const toggleSelectAll = () => {\n    const visibleIds = filteredItems.map(i => i.id);\n    setSelectedIds(prev => {\n      const next = new Set(prev);\n\n      if (visibleIds.every(id => next.has(id))) {\n        visibleIds.forEach(id => next.delete(id));\n      } else {\n        visibleIds.forEach(id => next.add(id));\n      }\n\n      return next;\n    });\n  }; // ---- filtered list ----\n\n\n  const filteredItems = items.filter(it => [\"region\", \"sectionLetter\", \"sectionNumber\", \"bin\", \"pallet\", \"localSN\"].every(f => !filters[f] || it[f] === filters[f])); // ---- bulk update handler ----\n\n  const applyBulkUpdate = () => {\n    if (!bulkField || !bulkValue) return;\n    const db = firebase.firestore();\n    const updates = Array.from(selectedIds).map(id => {\n      const orig = items.find(i => i.id === id) || {};\n      const newRegion = bulkField === \"region\" ? bulkValue : orig.region;\n      const newSectionLetter = bulkField === \"sectionLetter\" ? bulkValue : orig.sectionLetter;\n      const newSectionNumber = bulkField === \"sectionNumber\" ? bulkValue : orig.sectionNumber;\n      const newBin = bulkField === \"bin\" ? bulkValue : orig.bin;\n      const newPallet = bulkField === \"pallet\" ? bulkValue : orig.pallet;\n      const newLocString = formatLoc({\n        region: newRegion,\n        section: newSectionLetter && newSectionNumber ? {\n          letter: newSectionLetter,\n          number: newSectionNumber\n        } : undefined,\n        bin: newBin,\n        pallet: newPallet\n      });\n      const updateObj = {\n        region: newRegion,\n        bin: newBin,\n        pallet: newPallet,\n        localLocCurrent: newLocString,\n        newLocalCurrent: {\n          region: newRegion,\n          bin: newBin,\n          pallet: newPallet\n        }\n      };\n\n      if (newSectionLetter && newSectionNumber) {\n        updateObj.section = {\n          letter: newSectionLetter,\n          number: newSectionNumber\n        };\n        updateObj.newLocalCurrent.section = {\n          letter: newSectionLetter,\n          number: newSectionNumber\n        };\n      }\n\n      return db.collection(\"Test\").doc(id).update(updateObj).then(() => {\n        setItems(prev => prev.map(item => item.id === id ? _objectSpread(_objectSpread({}, item), {}, {\n          region: newRegion,\n          sectionLetter: newSectionLetter,\n          sectionNumber: newSectionNumber,\n          bin: newBin,\n          pallet: newPallet\n        }) : item));\n      });\n    });\n    Promise.all(updates).then(() => {\n      setSelectedIds(new Set());\n      setBulkField(\"\");\n      setBulkValue(\"\");\n    });\n  }; // ---- loading state ----\n\n\n  if (loading) {\n    return __jsx(Container, {\n      className: \"py-5 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 7\n      }\n    }, __jsx(Spinner, {\n      animation: \"border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  function LoadingButton({\n    type,\n    name,\n    route\n  }) {\n    const {\n      0: isLoading,\n      1: setLoading\n    } = useState(false);\n    useEffect(() => {\n      if (isLoading) {\n        simulateNetworkRequest().then(() => setLoading(false));\n      }\n    }, [isLoading]);\n\n    const handleClick = () => setLoading(true);\n\n    return __jsx(Link, {\n      href: `/${route}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      className: `btn btn-${type}`,\n      disabled: isLoading,\n      onClick: !isLoading ? handleClick : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, isLoading ? \"Loading…\" : name));\n  }\n\n  function simulateNetworkRequest() {\n    return new Promise(resolve => setTimeout(resolve, 2000));\n  }\n\n  return __jsx(LoggedIn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, __jsx(Container, {\n    className: \"py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, \"Inventory Management\"), __jsx(LoadingButton, {\n    type: \"primary\",\n    name: \"Back\",\n    route: \"Warehousedb/WarehouseSelect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }), __jsx(Row, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 25\n    }\n  }, \"Region\"), __jsx(Form.Select, {\n    value: filters.region,\n    onChange: e => {\n      const v = e.target.value;\n      setFilters(p => _objectSpread(_objectSpread({}, p), {}, {\n        region: v\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 25\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, \"All regions\"), regions.map(r => __jsx(\"option\", {\n    key: r,\n    value: r,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, r)))), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, \"Section Letter\"), __jsx(Form.Select, {\n    value: filters.sectionLetter,\n    onChange: e => {\n      const v = e.target.value;\n      setFilters(p => _objectSpread(_objectSpread({}, p), {}, {\n        sectionLetter: v\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 15\n    }\n  }, \"All letters\"), sectionLetters.map(s => __jsx(\"option\", {\n    key: s,\n    value: s,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }, s)))), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, \"Section Number\"), __jsx(Form.Select, {\n    value: filters.sectionNumber,\n    onChange: e => {\n      const v = e.target.value;\n      setFilters(p => _objectSpread(_objectSpread({}, p), {}, {\n        sectionNumber: v\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 15\n    }\n  }, \"All numbers\"), sectionNumbers.map(s => __jsx(\"option\", {\n    key: s,\n    value: s,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }\n  }, s)))), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, \"Bin\"), __jsx(Form.Select, {\n    value: filters.bin,\n    onChange: e => {\n      const v = e.target.value;\n      setFilters(p => _objectSpread(_objectSpread({}, p), {}, {\n        bin: v\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }, \"All bins\"), bins.map(b => __jsx(\"option\", {\n    key: b,\n    value: b,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 17\n    }\n  }, b)))), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }\n  }, \"Pallet\"), __jsx(Form.Select, {\n    value: filters.pallet,\n    onChange: e => {\n      const v = e.target.value;\n      setFilters(p => _objectSpread(_objectSpread({}, p), {}, {\n        pallet: v\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, \"All pallets\"), pallets.map(p => __jsx(\"option\", {\n    key: p,\n    value: p,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }\n  }, p)))), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }\n  }, \"Local SN\"), __jsx(Form.Control, {\n    placeholder: \"Search SN\",\n    value: filters.localSN,\n    onChange: e => {\n      const v = e.target.value;\n      setFilters(p => _objectSpread(_objectSpread({}, p), {}, {\n        localSN: v\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"d-flex mb-2 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Check, {\n    type: \"checkbox\",\n    label: \"Select All\",\n    onChange: toggleSelectAll,\n    checked: filteredItems.length > 0 && filteredItems.every(i => selectedIds.has(i.id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 11\n    }\n  }), selectedIds.size > 0 && __jsx(React.Fragment, null, __jsx(Form.Select, {\n    className: \"mx-2\",\n    value: bulkField,\n    onChange: e => setBulkField(e.target.value),\n    style: {\n      width: \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }\n  }, \"Change\\u2026\"), __jsx(\"option\", {\n    value: \"region\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 17\n    }\n  }, \"Region\"), __jsx(\"option\", {\n    value: \"sectionLetter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 17\n    }\n  }, \"Section Letter\"), __jsx(\"option\", {\n    value: \"sectionNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 17\n    }\n  }, \"Section Number\"), __jsx(\"option\", {\n    value: \"bin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 17\n    }\n  }, \"Bin\"), __jsx(\"option\", {\n    value: \"pallet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 17\n    }\n  }, \"Pallet\")), __jsx(Form.Control, {\n    style: {\n      width: \"100px\"\n    },\n    placeholder: \"New value\",\n    value: bulkValue,\n    onChange: e => setBulkValue(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 15\n    }\n  }), __jsx(Button, {\n    className: \"ms-2\",\n    onClick: applyBulkUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  }, \"Apply\"))), __jsx(Table, {\n    bordered: true,\n    hover: true,\n    responsive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 11\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 15\n    }\n  }), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 15\n    }\n  }, \"Name\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 15\n    }\n  }, \"PN\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 15\n    }\n  }, \"SN\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  }, \"LocalSN\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 15\n    }\n  }, \"Region\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 15\n    }\n  }, \"Section\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 15\n    }\n  }, \"Bin\"), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 15\n    }\n  }, \"Pallet\"))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 11\n    }\n  }, filteredItems.map(it => __jsx(\"tr\", {\n    key: it.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 15\n    }\n  }, __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Check, {\n    type: \"checkbox\",\n    checked: selectedIds.has(it.id),\n    onChange: () => toggleSelect(it.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 19\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 17\n    }\n  }, it.name), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 17\n    }\n  }, it.pn), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 17\n    }\n  }, it.sn), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 17\n    }\n  }, it.localSN), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 17\n    }\n  }, it.region), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 17\n    }\n  }, it.sectionLetter, it.sectionNumber), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, it.bin), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 17\n    }\n  }, it.pallet)))))));\n}","map":{"version":3,"sources":["C:/Users/mack2/Desktop/code/pages/NewSearch/inventory/inventoryManage.js"],"names":["React","useEffect","useState","useMemo","LoggedIn","firebase","Table","Form","Button","Container","Row","Col","Spinner","Link","useRouter","formatLoc","InventoryManage","router","items","setItems","loading","setLoading","selectedIds","setSelectedIds","Set","filters","setFilters","region","sectionLetter","sectionNumber","bin","pallet","localSN","bulkField","setBulkField","bulkValue","setBulkValue","db","firestore","collection","get","then","snap","data","docs","map","d","doc","loc","newLocalCurrent","section","slice","letter","number","undefined","String","id","name","pn","sn","toString","finally","isReady","qp","query","getParam","key","Array","isArray","prev","distinct","arr","from","filter","v","sort","regions","i","sectionLetters","sectionNumbers","bins","pallets","toggleSelect","next","has","delete","add","toggleSelectAll","visibleIds","filteredItems","every","forEach","it","f","applyBulkUpdate","updates","orig","find","newRegion","newSectionLetter","newSectionNumber","newBin","newPallet","newLocString","updateObj","localLocCurrent","update","item","Promise","all","LoadingButton","type","route","isLoading","simulateNetworkRequest","handleClick","resolve","setTimeout","e","target","value","p","r","s","b","length","size","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\nimport LoggedIn from \"../../LoggedIn\";\nimport firebase from \"../../../context/Firebase\";\nimport {\n  Table,\n  Form,\n  Button,\n  Container,\n  Row,\n  Col,\n  Spinner,\n} from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { formatLoc } from \"../../../utils/itemFormShared\";\n\n\nexport default function InventoryManage() {\n  const router = useRouter();\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedIds, setSelectedIds] = useState(new Set());\n  const [filters, setFilters] = useState({\n    region: \"\",\n    sectionLetter: \"\",\n    sectionNumber: \"\",\n    bin: \"\",\n    pallet: \"\",\n    localSN: \"\",\n  });\n  const [bulkField, setBulkField] = useState(\"\");\n  const [bulkValue, setBulkValue] = useState(\"\");\n\n  // ---- load data once ----\n  useEffect(() => {\n    const db = firebase.firestore();\n    db.collection(\"Test\")\n      .get()\n      .then((snap) => {\n        const data = snap.docs.map((d) => {\n          const doc = d.data();\n          const loc = doc.newLocalCurrent || {};\n          let sectionLetter = \"\";\n          let sectionNumber = \"\";\n          if (typeof loc.section === \"string\") {\n            sectionLetter = loc.section.slice(0, 1);\n            sectionNumber = loc.section.slice(1);\n          } else if (loc.section) {\n            sectionLetter = loc.section.letter || \"\";\n            sectionNumber =\n              loc.section.number !== undefined && loc.section.number !== null\n                ? String(loc.section.number)\n                : \"\";\n          }\n          return {\n            id: d.id,\n            name: doc.name || \"\",\n            pn: doc.pn || \"\",\n            sn: doc.sn || \"\",\n            localSN: doc.localSN || \"\",\n            region: loc.region?.toString() ?? \"\",\n            sectionLetter,\n            sectionNumber,\n            bin: loc.bin?.toString() ?? \"\",\n            pallet: loc.pallet?.toString() ?? \"\",\n          };\n        });\n        setItems(data);\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  useEffect(() => {\n    if (!router.isReady) return;\n    const qp = router.query;\n    const getParam = (key) =>\n      Array.isArray(qp[key]) ? qp[key][0] : qp[key];\n    setFilters((prev) => ({\n      ...prev,\n      region: getParam(\"region\") || \"\",\n      sectionLetter: getParam(\"sectionLetter\") || \"\",\n      sectionNumber: getParam(\"sectionNumber\") || \"\",\n      bin: getParam(\"bin\") || \"\",\n      pallet: getParam(\"pallet\") || \"\",\n      localSN: getParam(\"localSN\") || \"\",\n    }));\n  }, [router.isReady]);\n\n  // ---- derive distinct filter options ----\n  const distinct = (arr) =>\n    Array.from(new Set(arr.filter((v) => v))).sort();\n  const regions  = useMemo(() => distinct(items.map((i) => i.region)),  [items]);\n  const sectionLetters = useMemo(\n    () => distinct(items.map((i) => i.sectionLetter)),\n    [items]\n  );\n  const sectionNumbers = useMemo(\n    () => distinct(items.map((i) => i.sectionNumber)),\n    [items]\n  );\n  const bins     = useMemo(() => distinct(items.map((i) => i.bin)),     [items]);\n  const pallets  = useMemo(() => distinct(items.map((i) => i.pallet)),  [items]);\n\n  // ---- toggles ----\n  const toggleSelect = (id) => {\n    setSelectedIds((prev) => {\n      const next = new Set(prev);\n      next.has(id) ? next.delete(id) : next.add(id);\n      return next;\n    });\n  };\n  const toggleSelectAll = () => {\n    const visibleIds = filteredItems.map((i) => i.id);\n    setSelectedIds((prev) => {\n      const next = new Set(prev);\n      if (visibleIds.every((id) => next.has(id))) {\n        visibleIds.forEach((id) => next.delete(id));\n      } else {\n        visibleIds.forEach((id) => next.add(id));\n      }\n      return next;\n    });\n  };\n\n  // ---- filtered list ----\n  const filteredItems = items.filter((it) =>\n    [\"region\", \"sectionLetter\", \"sectionNumber\", \"bin\", \"pallet\", \"localSN\"].every(\n      (f) => !filters[f] || it[f] === filters[f]\n    )\n  );\n\n  // ---- bulk update handler ----\n  const applyBulkUpdate = () => {\n    if (!bulkField || !bulkValue) return;\n    const db = firebase.firestore();\n\n    const updates = Array.from(selectedIds).map((id) => {\n      const orig = items.find((i) => i.id === id) || {};\n      const newRegion  = bulkField === \"region\"  ? bulkValue : orig.region;\n      const newSectionLetter =\n        bulkField === \"sectionLetter\" ? bulkValue : orig.sectionLetter;\n      const newSectionNumber =\n        bulkField === \"sectionNumber\" ? bulkValue : orig.sectionNumber;\n      const newBin     = bulkField === \"bin\"     ? bulkValue : orig.bin;\n      const newPallet  = bulkField === \"pallet\"  ? bulkValue : orig.pallet;\n\n      const newLocString = formatLoc({\n        region: newRegion,\n        section:\n          newSectionLetter && newSectionNumber\n            ? { letter: newSectionLetter, number: newSectionNumber }\n            : undefined,\n        bin: newBin,\n        pallet: newPallet,\n      });\n\n      const updateObj = {\n        region: newRegion,\n        bin: newBin,\n        pallet: newPallet,\n        localLocCurrent: newLocString,\n        newLocalCurrent: {\n          region: newRegion,\n          bin: newBin,\n          pallet: newPallet,\n        },\n      };\n      if (newSectionLetter && newSectionNumber) {\n        updateObj.section = { letter: newSectionLetter, number: newSectionNumber };\n        updateObj.newLocalCurrent.section = {\n          letter: newSectionLetter,\n          number: newSectionNumber,\n        };\n      }\n\n      return db\n        .collection(\"Test\")\n        .doc(id)\n        .update(updateObj)\n        .then(() => {\n          setItems((prev) =>\n            prev.map((item) =>\n              item.id === id\n                ? {\n                    ...item,\n                    region: newRegion,\n                    sectionLetter: newSectionLetter,\n                    sectionNumber: newSectionNumber,\n                    bin: newBin,\n                    pallet: newPallet,\n                  }\n                : item\n            )\n          );\n        });\n    });\n\n    Promise.all(updates).then(() => {\n      setSelectedIds(new Set());\n      setBulkField(\"\");\n      setBulkValue(\"\");\n    });\n  };\n\n  // ---- loading state ----\n  if (loading) {\n    return (\n      <Container className=\"py-5 text-center\">\n        <Spinner animation=\"border\" />\n            </Container>\n        );\n    }\n\n    function LoadingButton({ type, name, route }) {\n      const [isLoading, setLoading] = useState(false);\n    \n      useEffect(() => {\n        if (isLoading) {\n          simulateNetworkRequest().then(() => setLoading(false));\n        }\n      }, [isLoading]);\n    \n      const handleClick = () => setLoading(true);\n    \n      return (\n        <Link href={`/${route}`}>\n                <a\n                    className={`btn btn-${type}`}\n                    disabled={isLoading}\n                    onClick={!isLoading ? handleClick : null}\n                >\n                    {isLoading ? \"Loading…\" : name}\n                </a>\n            </Link>\n        );\n    }\n\n    function simulateNetworkRequest() {\n        return new Promise(resolve => setTimeout(resolve, 2000));\n    }\n\n    return (\n        <LoggedIn>\n            <Container className=\"py-4\">\n                <h2>Inventory Management</h2>\n                <LoadingButton\n                    type=\"primary\"\n                    name=\"Back\"\n                    route=\"Warehousedb/WarehouseSelect\"\n                />\n                {/* dropdown filters */}\n                <Row className=\"mb-3\">\n                    <Col>\n                        <Form.Label>Region</Form.Label>\n                        <Form.Select\n                            value={filters.region}\n                            onChange={(e) => {\n                const v = e.target.value;\n                setFilters((p) => ({ ...p, region: v }));\n              }}\n            >\n              <option value=\"\">All regions</option>\n              {regions.map((r) => (\n                <option key={r} value={r}>{r}</option>\n              ))}\n            </Form.Select>\n          </Col>\n          <Col>\n            <Form.Label>Section Letter</Form.Label>\n            <Form.Select\n              value={filters.sectionLetter}\n              onChange={(e) => {\n                const v = e.target.value;\n                setFilters((p) => ({ ...p, sectionLetter: v }));\n              }}\n            >\n              <option value=\"\">All letters</option>\n              {sectionLetters.map((s) => (\n                <option key={s} value={s}>{s}</option>\n              ))}\n            </Form.Select>\n          </Col>\n          <Col>\n            <Form.Label>Section Number</Form.Label>\n            <Form.Select\n              value={filters.sectionNumber}\n              onChange={(e) => {\n                const v = e.target.value;\n                setFilters((p) => ({ ...p, sectionNumber: v }));\n              }}\n            >\n              <option value=\"\">All numbers</option>\n              {sectionNumbers.map((s) => (\n                <option key={s} value={s}>{s}</option>\n              ))}\n            </Form.Select>\n          </Col>\n          <Col>\n            <Form.Label>Bin</Form.Label>\n            <Form.Select\n              value={filters.bin}\n              onChange={(e) => {\n                const v = e.target.value;\n                setFilters((p) => ({ ...p, bin: v }));\n              }}\n            >\n              <option value=\"\">All bins</option>\n              {bins.map((b) => (\n                <option key={b} value={b}>{b}</option>\n              ))}\n            </Form.Select>\n          </Col>\n          <Col>\n            <Form.Label>Pallet</Form.Label>\n            <Form.Select\n              value={filters.pallet}\n              onChange={(e) => {\n                const v = e.target.value;\n                setFilters((p) => ({ ...p, pallet: v }));\n              }}\n            >\n              <option value=\"\">All pallets</option>\n              {pallets.map((p) => (\n                <option key={p} value={p}>{p}</option>\n              ))}\n            </Form.Select>\n          </Col>\n          <Col>\n            <Form.Label>Local SN</Form.Label>\n            <Form.Control\n              placeholder=\"Search SN\"\n              value={filters.localSN}\n              onChange={(e) => {\n                const v = e.target.value;\n                setFilters((p) => ({ ...p, localSN: v }));\n              }}\n            />\n          </Col>\n        </Row>\n\n        {/* bulk action bar */}\n        <div className=\"d-flex mb-2 align-items-center\">\n          <Form.Check\n            type=\"checkbox\"\n            label=\"Select All\"\n            onChange={toggleSelectAll}\n            checked={\n              filteredItems.length > 0 &&\n              filteredItems.every((i) => selectedIds.has(i.id))\n            }\n          />\n          {selectedIds.size > 0 && (\n            <>\n              <Form.Select\n                className=\"mx-2\"\n                value={bulkField}\n                onChange={(e) => setBulkField(e.target.value)}\n                style={{ width: \"150px\" }}\n              >\n                <option value=\"\">Change…</option>\n                <option value=\"region\">Region</option>\n                <option value=\"sectionLetter\">Section Letter</option>\n                <option value=\"sectionNumber\">Section Number</option>\n                <option value=\"bin\">Bin</option>\n                <option value=\"pallet\">Pallet</option>\n              </Form.Select>\n              <Form.Control\n                style={{ width: \"100px\" }}\n                placeholder=\"New value\"\n                value={bulkValue}\n                onChange={(e) => setBulkValue(e.target.value)}\n              />\n              <Button className=\"ms-2\" onClick={applyBulkUpdate}>\n                Apply\n              </Button>\n            </>\n          )}\n        </div>\n\n        {/* data table */}\n        <Table bordered hover responsive>\n          <thead>\n            <tr>\n              <th></th>\n              <th>Name</th>\n              <th>PN</th>\n              <th>SN</th>\n              <th>LocalSN</th>\n              <th>Region</th>\n              <th>Section</th>\n              <th>Bin</th>\n              <th>Pallet</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredItems.map((it) => (\n              <tr key={it.id}>\n                <td>\n                  <Form.Check\n                    type=\"checkbox\"\n                    checked={selectedIds.has(it.id)}\n                    onChange={() => toggleSelect(it.id)}\n                  />\n                </td>\n                <td>{it.name}</td>\n                <td>{it.pn}</td>\n                <td>{it.sn}</td>\n                <td>{it.localSN}</td>\n                <td>{it.region}</td>\n                <td>{it.sectionLetter}{it.sectionNumber}</td>\n                <td>{it.bin}</td>\n                <td>{it.pallet}</td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Container>\n    </LoggedIn>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}